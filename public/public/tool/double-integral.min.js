function parseTree(){var e=document.getElementById("MathInput").value,t=nerdamer.htmlTree(e);document.getElementById("tree").innerHTML=t}function setPreview(){$(".equation-preview").html("$$\\int_{"+$("#ll2").val()+"}^{"+$("#ul2").val()+"}\\int_{"+$("#ll1").val()+"}^{"+$("#ul1").val()+"}("+$("#MathInput").val()+")"+$("#var").val()+"$$")}$(".equation-preview").html("$$\\int_{"+$("#ll2").val()+"}^{"+$("#ul2").val()+"}\\int_{"+$("#ll1").val()+"}^{"+$("#ul1").val()+"}("+$("#MathInput").val()+")"+$("#var").val()+"$$"),$((function(){$("#ul1, #ul2, #ll1, #ll2, #var").on("change",(function(){PreviewUpdate()})),$("#int-options .nav-link").on("shown.bs.tab",(function(e){"indefinite"==$(this).data("type")&&($("#ul1, #ul2, #ll1, #ll2").val(""),PreviewUpdate())})),$("#MathInput").on("keyup",(function(){PreviewUpdate()})),$(".key-btn").on("click",(function(e){e.preventDefault();var data=$(this).data("value");void 0!==data&&insertAtCursorPosition(data)})),$("#clear-btn").on("click",(function(){confirm("Do you really want to clear the input?")&&$("#MathInput").val("")})),$("#equation-dropdown span").on("click",(function(){var inttype;$("#MathInput").val($(this).text()),"definite"==$("#int-options .nav-link.active").data("type")&&($("#ul1").val(1),$("#ul2").val(2),$("#ll1").val(3),$("#ll2").val(4)),PreviewUpdate()})),$("#calcBtn").on("click",(function(){if($("#MathInput").val())if($("#var").val()){var ul1="",ul2="",ll1="",ll2="",equation=$("#MathInput").val(),variable=$("#var").val(),inttype=$("#int-options .nav-link.active").data("type");if("definite"==inttype){if(!($("#ul1").val()&&$("#ul2").val()&&$("#ll1").val()&&$("#ll2").val()))return alert("please provide upper and lower limits for variable x and y"),!1;ul1=$("#ul1").val(),ul2=$("#ul2").val(),ll1=$("#ll1").val(),ll2=$("#ll2").val()}$("#show-res-slide").removeClass("d-none"),emptyHtml(".resultbox"),$(".loddiv").removeClass("d-none"),$("html, body").animate({scrollTop:$("#show-res-slide").offset().top},250),$.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}}),$.ajax({url:"/double-integral-setup",async:!0,type:"POST",data:{equation:equation,variable:variable,type:inttype,ul1:ul1,ul2:ul2,ll1:ll1,ll2:ll2},success:function(result){$(".loddiv").addClass("d-none"),$("#definite-answer").html(""),$("#indefinite-answer").html(""),"definite"==result.type&&($("#anti #definite-answer").append("<h3>Definite Integral:</h3>"),$("#anti #definite-answer").append("<p>$$"+result.definite_answer+"$$</p>")),$("#input").html("$$\\int_{"+$("#ll2").val()+"}^{"+$("#ul2").val()+"}\\int_{"+$("#ll1").val()+"}^{"+$("#ul1").val()+"}("+$("#MathInput").val()+")"+$("#var").val()+"$$"),$("#steps").html(result.step1+result.step2),$(".steps").last().prepend("<h3>By taking second integral</h3>");var indefinite_answer=$(".steps").last().find("script").last();$("#anti #indefinite-answer").append("<h3>Indefinite Integral:</h3>"),$("#anti #indefinite-answer").append("<p>$$"+indefinite_answer.text()+"$$</p>"),$("#steps").find("script").replaceWith((function(){return $("<span />",{html:"$$"+$(this).html()+"$$"})})),MathJax.typesetPromise().then(()=>{MathJax.typesetPromise()}).catch(err=>console.log(err.message)),parseTree()},error:function(error){$("#show-res-slide").addClass("d-none"),$(".loddiv").addClass("d-none"),console.log(error),alert("Unable to Process Please Check the Format")}})}else alert("Please Select Variable i.e dxdy");else alert("Please Enter Function")}))}));